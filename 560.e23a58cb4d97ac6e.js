"use strict";(self.webpackChunkE_commerce=self.webpackChunkE_commerce||[]).push([[560],{6560:(J,u,a)=>{a.r(u),a.d(u,{RegisterComponent:()=>Y});var f=a(6814),s=a(95),e=a(4769),c=a(9410),d=a(1120);function Z(t,i){if(1&t&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errMsg," ")}}function v(t,i){1&t&&(e.TgZ(0,"p",28),e._uU(1,"Name Is Required"),e.qZA())}function x(t,i){1&t&&(e.TgZ(0,"p",28),e._uU(1,"Your name must be at least 3 characters long"),e.qZA())}function h(t,i){1&t&&(e.TgZ(0,"p",28),e._uU(1,"Your name cannot exceed 20 characters"),e.qZA())}function T(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,v,2,0,"p",27),e.YNc(2,x,2,0,"p",27),e.YNc(3,h,2,0,"p",27),e.qZA()),2&t){const o=e.oxw();let n,r,l;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("name"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("name"))?null:r.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(l=o.registerForm.get("name"))?null:l.getError("maxlength"))}}function w(t,i){1&t&&(e.TgZ(0,"p",28),e._uU(1,"Email Is Required"),e.qZA())}function I(t,i){1&t&&(e.TgZ(0,"p",28),e._uU(1,"Enter vaid Email"),e.qZA())}function q(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,w,2,0,"p",27),e.YNc(2,I,2,0,"p",27),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("email"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("email"))?null:r.getError("email"))}}function A(t,i){1&t&&(e.TgZ(0,"p",28),e._uU(1,"Password Is Required"),e.qZA())}function R(t,i){1&t&&(e.TgZ(0,"p",28),e._uU(1," password must have capital letter, a lowercase letter, a special character, and Numbers "),e.qZA())}function U(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,A,2,0,"p",27),e.YNc(2,R,2,0,"p",27),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("password"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("password"))?null:r.getError("pattern"))}}function C(t,i){1&t&&(e.TgZ(0,"p",28),e._uU(1,"RePassword Is Required"),e.qZA())}function E(t,i){1&t&&(e.TgZ(0,"p",28),e._uU(1,"Password confirmation is incorrect"),e.qZA())}function F(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,C,2,0,"p",27),e.YNc(2,E,2,0,"p",27),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("rePassword"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("rePassword"))?null:r.getError("mismatch"))}}function N(t,i){1&t&&(e.TgZ(0,"p",28),e._uU(1,"accept only egypt phone numbers "),e.qZA())}function P(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,N,2,0,"p",27),e.qZA()),2&t){const o=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("phone"))?null:n.getError("pattern"))}}function b(t,i){1&t&&e._UZ(0,"i",29)}let Y=(()=>{class t{constructor(o,n,r){this._AuthService=o,this._Router=n,this._FormBuilder=r,this.errMsg="",this.spinner=!1,this.registerForm=new s.cw({name:new s.NI("",[s.kI.required,s.kI.minLength(3),s.kI.maxLength(20)]),email:new s.NI("",[s.kI.required,s.kI.email]),password:new s.NI("",[s.kI.required,s.kI.minLength(8),s.kI.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()\-_=+{};:,<.>]).{8,}$/)]),rePassword:new s.NI(""),phone:new s.NI("",[s.kI.required,s.kI.pattern(/^01[0125][0-9]{8}$/)])},{Validators:[this.confirmPassword]})}confirmPassword(o){const n=o.get("password"),r=o.get("rePassword");" "==r?.value?r?.setErrors({required:!0}):n?.value!=r?.value&&r?.setErrors({mismatch:!0})}handleForm(){const o=this.registerForm.value;this.spinner=!0,!0===this.registerForm.valid&&this._AuthService.register(o).subscribe({next:n=>{"success"==n.message&&(this._Router.navigate(["/login"]),this.spinner=!1)},error:n=>{this.errMsg=n.error.message,this.spinner=!1}})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(c.e),e.Y36(d.F0),e.Y36(s.qu))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:46,vars:9,consts:[[1,"w-80","mx-auto","shadow","rounded","p-4","my-3","bg-main0light"],[1,"container","h-100","mt-2"],[3,"formGroup","ngSubmit"],[1,"text-center","fs-4","fw-bold","mb-5","mx-md-4","m-2","text-success"],["class"," text-danger text-center my-2 ","role","alert",4,"ngIf"],[1,"d-flex","flex-row","align-items-center","mb-4"],[1,"fas","fa-user","fa-lg","me-3","text-success"],[1,"form-outline","flex-fill","mb-0"],["for","email",1,"name"],["formControlName","name","type","text","id","Name",1,"form-control"],[4,"ngIf"],[1,"fas","fa-envelope","fa-lg","me-3","fa-fw","text-success"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email",1,"form-control"],[1,"fas","fa-lock","fa-lg","me-3","fa-fw","text-success"],["for","password",1,"form-label"],["formControlName","password","type","password","id","password",1,"form-control"],[1,"fas","fa-key","fa-lg","me-3","fa-fw","text-success"],["for","rePassword",1,"form-label"],["formControlName","rePassword","type","password","id","rePassword",1,"form-control"],[1,"fas","fa-phone","fa-lg","me-3","fa-fw","text-success"],["for","phone",1,"form-label"],["formControlName","phone","type","tel","id","phone",1,"form-control"],[1,"d-flex","justify-content-center","mx-4","mb-3","mb-lg-4"],["type","submit",1,"main-btn","w-100",3,"disabled"],["class","fas fa-spin fa-spinner",4,"ngIf"],["role","alert",1,"text-danger","text-center","my-2"],["class","text-danger mt-2",4,"ngIf"],[1,"text-danger","mt-2"],[1,"fas","fa-spin","fa-spinner"]],template:function(n,r){if(1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return r.handleForm()}),e.TgZ(3,"p",3),e._uU(4,"Register Form"),e.qZA(),e.YNc(5,Z,2,1,"div",4),e.TgZ(6,"div",5),e._UZ(7,"i",6),e.TgZ(8,"div",7)(9,"label",8),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",9),e.YNc(12,T,4,3,"div",10),e.qZA()(),e.TgZ(13,"div",5),e._UZ(14,"i",11),e.TgZ(15,"div",7)(16,"label",12),e._uU(17,"Your Email"),e.qZA(),e._UZ(18,"input",13),e.YNc(19,q,3,2,"div",10),e.qZA()(),e.TgZ(20,"div",5),e._UZ(21,"i",14),e.TgZ(22,"div",7)(23,"label",15),e._uU(24,"Password"),e.qZA(),e._UZ(25,"input",16),e.YNc(26,U,3,2,"div",10),e.qZA()(),e.TgZ(27,"div",5),e._UZ(28,"i",17),e.TgZ(29,"div",7)(30,"label",18),e._uU(31,"Confirm password"),e.qZA(),e._UZ(32,"input",19),e.YNc(33,F,3,2,"div",10),e.qZA()(),e.TgZ(34,"div",5),e._UZ(35,"i",20),e.TgZ(36,"div",7)(37,"label",21),e._uU(38,"Phone"),e.qZA(),e._UZ(39,"input",22),e.YNc(40,P,2,1,"div",10),e.qZA()(),e.TgZ(41,"div",23)(42,"button",24),e._uU(43," Register "),e.TgZ(44,"span"),e.YNc(45,b,1,0,"i",25),e.qZA()()()()()()),2&n){let l,m,_,g,p;e.xp6(2),e.Q6J("formGroup",r.registerForm),e.xp6(3),e.Q6J("ngIf",r.errMsg),e.xp6(7),e.Q6J("ngIf",(null==(l=r.registerForm.get("name"))?null:l.errors)&&(null==(l=r.registerForm.get("name"))?null:l.touched)),e.xp6(7),e.Q6J("ngIf",(null==(m=r.registerForm.get("email"))?null:m.errors)&&(null==(m=r.registerForm.get("email"))?null:m.touched)),e.xp6(7),e.Q6J("ngIf",(null==(_=r.registerForm.get("password"))?null:_.errors)&&(null==(_=r.registerForm.get("password"))?null:_.touched)),e.xp6(7),e.Q6J("ngIf",(null==(g=r.registerForm.get("rePassword"))?null:g.errors)&&(null==(g=r.registerForm.get("rePassword"))?null:g.touched)),e.xp6(7),e.Q6J("ngIf",(null==(p=r.registerForm.get("phone"))?null:p.errors)&&(null==(p=r.registerForm.get("phone"))?null:p.touched)),e.xp6(2),e.Q6J("disabled",r.registerForm.invalid),e.xp6(3),e.Q6J("ngIf",r.spinner)}},dependencies:[f.ez,f.O5,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]})}return t})()}}]);